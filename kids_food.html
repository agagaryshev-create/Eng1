<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Kids English ‚Äì Food</title>
<style>
body {
  font-family: Comic Sans MS, Arial, sans-serif;
  background: #FFF9E6;
  margin: 0;
  padding: 20px;
  text-align: center;
}
h1 { color: #FF7043; }
#quiz-box {
  background: white;
  padding: 20px;
  max-width: 600px;
  margin: 20px auto;
  border-radius: 20px;
  border: 3px solid #FFAB91;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
img {
  width: 200px;
  height: 200px;
  object-fit: contain;
  margin: 10px 0;
}
.options {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 15px;
}
button.option {
  padding: 12px;
  font-size: 20px;
  border-radius: 10px;
  border: 2px solid #FF7043;
  background: #FFE0B2;
  cursor: pointer;
}
button.option:hover { background: #FFD54F; }
#result {
  font-size: 22px;
  margin-top: 20px;
  font-weight: bold;
}
#restart {
  margin-top: 20px;
  padding: 12px 25px;
  font-size: 20px;
  border-radius: 10px;
  background: #FFCC80;
  border: 2px solid #FF8A65;
  cursor: pointer;
  display: none;
}
#restart:hover { background: #FFB74D; }
.back {
  margin-top: 20px;
  display: inline-block;
  padding: 10px 20px;
  background: #FFCC80;
  border-radius: 10px;
  text-decoration: none;
  color: #333;
  font-size: 18px;
  border: 2px solid #FF7043;
}
</style>
</head>
<body>

<h1>üçé Food ‚Äì English for Kids</h1>
<p style="font-size:18px;">–í—ã–±–µ—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç üëá</p>
<a href="kids.html" class="back">‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–∞–∑–¥–µ–ª–∞–º</a>

<div id="quiz-box">
  <h2 id="question"></h2>
  <img id="image" src="" alt="" />
  <div class="options" id="options"></div>
  <div id="result"></div>
  <button id="restart">–ò–≥—Ä–∞—Ç—å –µ—â—ë —Ä–∞–∑ üîÅ</button>
</div>

<script>
/* === –°–¢–ê–¢–ò–ß–ù–´–ô –°–ü–ò–°–û–ö –í–°–ï–• PNG === */
const imageFiles = [
  "apple.png",
  "apricot.png",
  "banana.png",
  "bread.png",
  "cabbage.png",
  "carrot.png",
  "caviar.png",
  "cheese.png",
  "dragon_fruit.png",
  "eggs.png",
  "ginger.png",
  "grapes.png",
  "juice.png",
  "lemon.png",
  "meat.png",
  "melon.png",
  "milk.png",
  "onion.png",
  "orange.png",
  "peach.png",
  "pear.png",
  "pineapple.png",
  "potato.png",
  "salad.png",
  "tomato.png",
  "watermelon.png"
];

/* === 10 —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫ === */
function shuffle(a) { return a.sort(() => Math.random() - 0.5); }

const selected = shuffle([...imageFiles]).slice(0, 10);

/* === –°—Ç—Ä–æ–∏–º —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ === */
const questions = selected.map(name => {
  const word = name.replace(".png", "");
  return {
    word,
    img: "images/food/" + name,
    options: shuffle([
      word,
      ...getRandomWrong(word, 2)
    ])
  };
});

/* –õ–æ–∂–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã */
function getRandomWrong(correct, count) {
  const others = imageFiles
    .filter(n => n.replace(".png","") !== correct)
    .map(n => n.replace(".png",""));
  return shuffle(others).slice(0, count);
}

/* === –ö–í–ò–ó === */
let current = 0;
let score = 0;

shuffle(questions);

function loadQuestion() {
  const q = questions[current];
  document.getElementById("question").innerText =
    `–ß—Ç–æ —ç—Ç–æ –∑–∞ –µ–¥–∞? (${current + 1}/${questions.length})`;

  const img = document.getElementById("image");
  img.src = q.img;
  img.alt = q.word;

  const optBox = document.getElementById("options");
  optBox.innerHTML = "";

  shuffle(q.options).forEach(opt => {
    const btn = document.createElement("button");
    btn.className = "option";
    btn.innerText = opt;
    btn.onclick = () => checkAnswer(btn, opt === q.word);
    optBox.appendChild(btn);
  });

  document.getElementById("result").innerText = "";
  document.getElementById("restart").style.display = "none";
}

function checkAnswer(btn, correct) {
  const buttons = document.querySelectorAll("#options .option");
  buttons.forEach(b => {
    b.disabled = true;
    if (b.innerText === questions[current].word) {
      b.style.backgroundColor = "#A5D6A7";
    }
  });

  if (!correct) btn.style.backgroundColor = "#EF9A9A";
  else score++;

  current++;

  setTimeout(() => {
    if (current < questions.length) loadQuestion();
    else showResult();
  }, 900);
}

function showResult() {
  document.getElementById("options").style.display = "none";
  document.getElementById("image").style.display = "none";
  document.getElementById("question").style.display = "none";
  document.getElementById("result").innerText =
    `–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score} –∏–∑ ${questions.length}`;
  document.getElementById("restart").style.display = "block";
}

document.getElementById("restart").onclick = () => {
  current = 0;
  score = 0;
  shuffle(questions);
  document.getElementById("options").style.display = "flex";
  document.getElementById("image").style.display = "block";
  document.getElementById("question").style.display = "block";
  loadQuestion();
};

loadQuestion();
</script>

</body>
</html>
